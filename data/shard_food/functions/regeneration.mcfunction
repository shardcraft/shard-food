tag @s[nbt={ActiveEffects: [{Id: 10}]}] add hasRegeneration
effect give @s[tag=!hasRegeneration] regeneration 4 0 true
tag @s remove hasRegeneration